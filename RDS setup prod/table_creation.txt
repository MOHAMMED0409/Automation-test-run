Step-1: connect to bastion instance
          chmod 400 "/home/mkhashif/Documents/Automation test run/RDS setup prod/bastion-key-new.pem"
          ssh -i "/home/mkhashif/Documents/Automation test run/RDS setup prod/bastion-key-new.pem" ubuntu@98.93.140.185
Step-2: sudo apt update
        sudo apt install mysql-client -y
Step-3: mysql -h prod-database.cf2o0g266yxa.us-east-1.rds.amazonaws.com \
      -P 3306 \
      -u admin \
      -p

mysql -h prod-database.cf2o0g266yxa.us-east-1.rds.amazonaws.com -P 3306 -u admin -p'Admin1234' -e "
CREATE DATABASE IF NOT EXISTS prod_sso;
USE prod_sso;

CREATE TABLE IF NOT EXISTS prod_sso (
  id INT AUTO_INCREMENT PRIMARY KEY,
  user_name VARCHAR(255),
  email VARCHAR(255),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE IF NOT EXISTS prod_thepoint (
  id INT AUTO_INCREMENT PRIMARY KEY,
  title VARCHAR(255),
  description TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO prod_sso (user_name, email) VALUES
('John Doe', 'doe@example.com'),
('Alice Smith', 'alice@example.com'),
('Smith', 'smith@example.com'),
('Mohammed', 'mohammed@example.com'),
('Khashif', 'khashif@example.com'),
('Sam', 'sam@example.com'),
('Joi', 'Joi@example.com'),
('John', 'john@example.com'),
('Paul', 'paul@example.com'),
('Raj', 'raj@example.com');

INSERT INTO prod_thepoint (title, description) VALUES
('Point A', 'Description for Point A'),
('Point B', 'Description for Point B'),
('Point C', 'Description for Point C'),
('Point D', 'Description for Point D'),
('Point E', 'Description for Point E'),
('Point F', 'Description for Point F'),
('Point G', 'Description for Point G'),
('Point H', 'Description for Point H'),
('Point I', 'Description for Point I'),
('Point J', 'Description for Point J')
;
"

Data Anonymization

USE prod-sso;
UPDATE prod_sso
SET 
  user_name = CONCAT('user_', LPAD(id, 4, '0')),
  email = CONCAT('user_', LPAD(id, 4, '0'), '@anonymized.local');

